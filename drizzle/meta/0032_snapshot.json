{
  "id": "a7b6ba2d-f1db-463c-826a-229120760573",
  "prevId": "fc5091c1-4e18-489e-84fe-e11911ce27c5",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.balance_transactions": {
      "name": "balance_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "balance_before": {
          "name": "balance_before",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "operator_id": {
          "name": "operator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "operator_name": {
          "name": "operator_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_request_id": {
          "name": "message_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_balance_transactions_user_time": {
          "name": "idx_balance_transactions_user_time",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_balance_transactions_type": {
          "name": "idx_balance_transactions_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_balance_transactions_message": {
          "name": "idx_balance_transactions_message",
          "columns": [
            {
              "expression": "message_request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.consistency_history": {
      "name": "consistency_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "operation_type": {
          "name": "operation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "operator": {
          "name": "operator",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "keys_checked": {
          "name": "keys_checked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "inconsistencies_found": {
          "name": "inconsistencies_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "items_fixed": {
          "name": "items_fixed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_difference": {
          "name": "total_difference",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consistency_history_timestamp": {
          "name": "idx_consistency_history_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consistency_history_operation_type": {
          "name": "idx_consistency_history_operation_type",
          "columns": [
            {
              "expression": "operation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.consistency_task_config": {
      "name": "consistency_task_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "interval_hours": {
          "name": "interval_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "auto_fix": {
          "name": "auto_fix",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "threshold_usd": {
          "name": "threshold_usd",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.01'"
        },
        "threshold_rate": {
          "name": "threshold_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'5.00'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.keys": {
      "name": "keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "can_login_web_ui": {
          "name": "can_login_web_ui",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "limit_5h_usd": {
          "name": "limit_5h_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_weekly_usd": {
          "name": "limit_weekly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_monthly_usd": {
          "name": "limit_monthly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_limit_usd": {
          "name": "total_limit_usd",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_concurrent_sessions": {
          "name": "limit_concurrent_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rpm_limit": {
          "name": "rpm_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "daily_limit_usd": {
          "name": "daily_limit_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'100.00'"
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_keys_user_id": {
          "name": "idx_keys_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_keys_created_at": {
          "name": "idx_keys_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_keys_deleted_at": {
          "name": "idx_keys_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_request": {
      "name": "message_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(21, 15)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "cost_multiplier": {
          "name": "cost_multiplier",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_source": {
          "name": "payment_source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "package_cost_usd": {
          "name": "package_cost_usd",
          "type": "numeric(21, 15)",
          "primaryKey": false,
          "notNull": false
        },
        "balance_cost_usd": {
          "name": "balance_cost_usd",
          "type": "numeric(21, 15)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_chain": {
          "name": "provider_chain",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_type": {
          "name": "api_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "original_model": {
          "name": "original_model",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cache_creation_input_tokens": {
          "name": "cache_creation_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cache_read_input_tokens": {
          "name": "cache_read_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blocked_by": {
          "name": "blocked_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "blocked_reason": {
          "name": "blocked_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "messages_count": {
          "name": "messages_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_message_request_user_date_cost": {
          "name": "idx_message_request_user_date_cost",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cost_usd",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"message_request\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_user_query": {
          "name": "idx_message_request_user_query",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"message_request\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_session_id": {
          "name": "idx_message_request_session_id",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"message_request\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_provider_id": {
          "name": "idx_message_request_provider_id",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_user_id": {
          "name": "idx_message_request_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_key": {
          "name": "idx_message_request_key",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_created_at": {
          "name": "idx_message_request_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_request_deleted_at": {
          "name": "idx_message_request_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.model_prices": {
      "name": "model_prices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "price_data": {
          "name": "price_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_model_prices_latest": {
          "name": "idx_model_prices_latest",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_model_prices_model_name": {
          "name": "idx_model_prices_model_name",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_model_prices_created_at": {
          "name": "idx_model_prices_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_settings": {
      "name": "notification_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "circuit_breaker_enabled": {
          "name": "circuit_breaker_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "circuit_breaker_webhook": {
          "name": "circuit_breaker_webhook",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "circuit_breaker_channels": {
          "name": "circuit_breaker_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "daily_leaderboard_enabled": {
          "name": "daily_leaderboard_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "daily_leaderboard_webhook": {
          "name": "daily_leaderboard_webhook",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "daily_leaderboard_time": {
          "name": "daily_leaderboard_time",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00'"
        },
        "daily_leaderboard_top_n": {
          "name": "daily_leaderboard_top_n",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "daily_leaderboard_channels": {
          "name": "daily_leaderboard_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "cost_alert_enabled": {
          "name": "cost_alert_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "cost_alert_webhook": {
          "name": "cost_alert_webhook",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_alert_threshold": {
          "name": "cost_alert_threshold",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.80'"
        },
        "cost_alert_check_interval": {
          "name": "cost_alert_check_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 60
        },
        "cost_alert_channels": {
          "name": "cost_alert_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.providers": {
      "name": "providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_multiplier": {
          "name": "cost_multiplier",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.6'"
        },
        "group_tag": {
          "name": "group_tag",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_type": {
          "name": "provider_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'claude'"
        },
        "model_redirects": {
          "name": "model_redirects",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_models": {
          "name": "allowed_models",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'null'::jsonb"
        },
        "join_claude_pool": {
          "name": "join_claude_pool",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "codex_instructions_strategy": {
          "name": "codex_instructions_strategy",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "limit_5h_usd": {
          "name": "limit_5h_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_weekly_usd": {
          "name": "limit_weekly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_monthly_usd": {
          "name": "limit_monthly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_concurrent_sessions": {
          "name": "limit_concurrent_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "circuit_breaker_failure_threshold": {
          "name": "circuit_breaker_failure_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "circuit_breaker_open_duration": {
          "name": "circuit_breaker_open_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1800000
        },
        "circuit_breaker_half_open_success_threshold": {
          "name": "circuit_breaker_half_open_success_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "proxy_url": {
          "name": "proxy_url",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "proxy_fallback_to_direct": {
          "name": "proxy_fallback_to_direct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "only_claude_cli": {
          "name": "only_claude_cli",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "tpm": {
          "name": "tpm",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rpm": {
          "name": "rpm",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rpd": {
          "name": "rpd",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cc": {
          "name": "cc",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_providers_enabled_priority": {
          "name": "idx_providers_enabled_priority",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "weight",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"providers\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_providers_group": {
          "name": "idx_providers_group",
          "columns": [
            {
              "expression": "group_tag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"providers\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_providers_created_at": {
          "name": "idx_providers_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_providers_deleted_at": {
          "name": "idx_providers_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sensitive_words": {
      "name": "sensitive_words",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "word": {
          "name": "word",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "match_type": {
          "name": "match_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'contains'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sensitive_words_enabled": {
          "name": "idx_sensitive_words_enabled",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "match_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sensitive_words_created_at": {
          "name": "idx_sensitive_words_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "site_title": {
          "name": "site_title",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "default": "'Claude Code Hub'"
        },
        "allow_global_usage_view": {
          "name": "allow_global_usage_view",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "currency_display": {
          "name": "currency_display",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "theme_config": {
          "name": "theme_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"baseColor\":\"#FF8A00\",\"accentColor\":\"#FFB347\",\"neutralColor\":\"#FFE8CC\"}'::jsonb"
        },
        "enable_auto_cleanup": {
          "name": "enable_auto_cleanup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cleanup_retention_days": {
          "name": "cleanup_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "cleanup_schedule": {
          "name": "cleanup_schedule",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0 2 * * *'"
        },
        "cleanup_batch_size": {
          "name": "cleanup_batch_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10000
        },
        "enable_client_version_check": {
          "name": "enable_client_version_check",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "provider_group": {
          "name": "provider_group",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "parent_user_id": {
          "name": "parent_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "password_updated_at": {
          "name": "password_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "force_password_change": {
          "name": "force_password_change",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_keys_count": {
          "name": "max_keys_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "limit_5h_usd": {
          "name": "limit_5h_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_weekly_usd": {
          "name": "limit_weekly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "limit_monthly_usd": {
          "name": "limit_monthly_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_limit_usd": {
          "name": "total_limit_usd",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "inherit_parent_limits": {
          "name": "inherit_parent_limits",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "balance_usd": {
          "name": "balance_usd",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "balance_updated_at": {
          "name": "balance_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_users_active_role_sort": {
          "name": "idx_users_active_role_sort",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"users\".\"deleted_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_parent_user_id": {
          "name": "idx_users_parent_user_id",
          "columns": [
            {
              "expression": "parent_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"users\".\"deleted_at\" IS NULL AND \"users\".\"parent_user_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_password_hash": {
          "name": "idx_users_password_hash",
          "columns": [
            {
              "expression": "password_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"users\".\"password_hash\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_created_at": {
          "name": "idx_users_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_deleted_at": {
          "name": "idx_users_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}